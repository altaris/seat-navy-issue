components:
  schemas:
    EsiRequestIn:
      description: Data to be forwarded to the ESI
      properties:
        on_behalf_of:
          title: On Behalf Of
          type: integer
        params:
          default: {}
          title: Params
          type: object
      title: EsiRequestIn
      type: object
    EsiRequestOut:
      description: SNI response to an ESI request
      properties:
        data:
          title: Data
        headers:
          title: Headers
          type: object
        status_code:
          title: Status Code
          type: integer
      required:
      - status_code
      title: EsiRequestOut
      type: object
    GetCoalitionOut:
      description: Model for ``GET /coalition/{name}`` responses.
      properties:
        created_on:
          format: date-time
          title: Created On
          type: string
        members:
          items:
            type: string
          title: Members
          type: array
        name:
          title: Name
          type: string
        ticker:
          title: Ticker
          type: string
        updated_on:
          format: date-time
          title: Updated On
          type: string
      required:
      - created_on
      - members
      - name
      - ticker
      - updated_on
      title: GetCoalitionOut
      type: object
    GetGroupOut:
      description: Model for ``GET /group/{name}`` responses.
      properties:
        created_on:
          format: date-time
          title: Created On
          type: string
        description:
          title: Description
          type: string
        members:
          items:
            type: string
          title: Members
          type: array
        name:
          title: Name
          type: string
        owner:
          title: Owner
          type: string
        updated_on:
          format: date-time
          title: Updated On
          type: string
      required:
      - created_on
      - description
      - members
      - name
      - owner
      - updated_on
      title: GetGroupOut
      type: object
    GetTokenOut:
      description: Model for ``GET /token`` responses.
      properties:
        callback:
          format: uri
          maxLength: 65536
          minLength: 1
          title: Callback
          type: string
        comments:
          title: Comments
          type: string
        created_on:
          format: date-time
          title: Created On
          type: string
        expires_on:
          format: date-time
          title: Expires On
          type: string
        owner_character_id:
          title: Owner Character Id
          type: integer
        parent:
          format: uuid
          title: Parent
          type: string
        token_type:
          enum:
          - dyn
          - per
          - use
          title: Token Type
          type: string
        uuid:
          format: uuid
          title: Uuid
          type: string
      required:
      - created_on
      - owner_character_id
      - token_type
      - uuid
      title: GetTokenOut
      type: object
    GetUserOut:
      description: Model for ``GET /user/{character_name}`` requests
      properties:
        alliance:
          title: Alliance
          type: string
        character_id:
          title: Character Id
          type: integer
        character_name:
          title: Character Name
          type: string
        clearance_level:
          title: Clearance Level
          type: integer
        coalitions:
          items:
            type: string
          title: Coalitions
          type: array
        corporation:
          title: Corporation
          type: string
        created_on:
          format: date-time
          title: Created On
          type: string
        is_ceo_of_alliance:
          title: Is Ceo Of Alliance
          type: boolean
        is_ceo_of_corporation:
          title: Is Ceo Of Corporation
          type: boolean
        updated_on:
          format: date-time
          title: Updated On
          type: string
      required:
      - character_id
      - character_name
      - clearance_level
      - coalitions
      - created_on
      - is_ceo_of_alliance
      - is_ceo_of_corporation
      - updated_on
      title: GetUserOut
      type: object
    HTTPValidationError:
      properties:
        detail:
          items:
            $ref: '#/components/schemas/ValidationError'
          title: Detail
          type: array
      title: HTTPValidationError
      type: object
    PostCoalitionIn:
      description: Model for ``POST /coalition`` responses.
      properties:
        name:
          title: Name
          type: string
        ticker:
          title: Ticker
          type: string
      required:
      - name
      - ticker
      title: PostCoalitionIn
      type: object
    PostGroupIn:
      description: Model for ``POST /group`` responses.
      properties:
        description:
          default: ''
          title: Description
          type: string
        name:
          title: Name
          type: string
      required:
      - name
      title: PostGroupIn
      type: object
    PostTokenDynIn:
      description: Model for ``POST /token/dyn`` requests.
      properties:
        callback:
          format: uri
          maxLength: 65536
          minLength: 1
          title: Callback
          type: string
        comments:
          title: Comments
          type: string
      required:
      - callback
      title: PostTokenDynIn
      type: object
    PostTokenDynOut:
      description: Model for ``POST /token/dyn`` reponses.
      properties:
        tkn:
          title: Tkn
          type: string
      required:
      - tkn
      title: PostTokenDynOut
      type: object
    PostTokenPerIn:
      description: Model for ``POST /token/per`` requests.
      properties:
        callback:
          format: uri
          maxLength: 65536
          minLength: 1
          title: Callback
          type: string
        comments:
          title: Comments
          type: string
      required:
      - callback
      title: PostTokenPerIn
      type: object
    PostTokenPerOut:
      description: Model for ``POST /token/per`` reponses.
      properties:
        tkn:
          title: Tkn
          type: string
      required:
      - tkn
      title: PostTokenPerOut
      type: object
    PostTokenUseFromDynIn:
      description: Model for ``POST /token/use/from/dyn`` requests.
      properties:
        scopes:
          default:
          - publicData
          items:
            type: string
          title: Scopes
          type: array
      title: PostTokenUseFromDynIn
      type: object
    PostTokenUseFromDynOut:
      description: Model for ``POST /token/use/from/dyn`` reponses.
      properties:
        login_url:
          title: Login Url
          type: string
        state_code:
          title: State Code
          type: string
      required:
      - login_url
      - state_code
      title: PostTokenUseFromDynOut
      type: object
    PostUseFromPerOut:
      description: Model for ``POST /token/use/from/per`` reponses.
      properties:
        user_token:
          title: User Token
          type: string
      required:
      - user_token
      title: PostUseFromPerOut
      type: object
    PutCoalitionIn:
      description: Model for ``POST /coalition`` responses.
      properties:
        add_members:
          items:
            type: string
          title: Add Members
          type: array
        members:
          items:
            type: string
          title: Members
          type: array
        remove_members:
          items:
            type: string
          title: Remove Members
          type: array
        ticker:
          title: Ticker
          type: string
      title: PutCoalitionIn
      type: object
    PutGroupIn:
      description: Model for ``POST /group`` responses.
      properties:
        add_members:
          items:
            type: string
          title: Add Members
          type: array
        description:
          title: Description
          type: string
        members:
          items:
            type: string
          title: Members
          type: array
        owner:
          title: Owner
          type: string
        remove_members:
          items:
            type: string
          title: Remove Members
          type: array
      title: PutGroupIn
      type: object
    PutUserIn:
      description: Model for ``PUT /user/{character_name}`` requests
      properties:
        clearance_level:
          title: Clearance Level
          type: integer
      title: PutUserIn
      type: object
    ValidationError:
      properties:
        loc:
          items:
            type: string
          title: Location
          type: array
        msg:
          title: Message
          type: string
        type:
          title: Error Type
          type: string
      required:
      - loc
      - msg
      - type
      title: ValidationError
      type: object
info:
  title: FastAPI
  version: 0.1.0
openapi: 3.0.2
paths:
  /callback/esi:
    get:
      description: "ESI callback.\n\nNotifies the app with by issuing a POST request\
        \ to the predefined app\ncallback, using the :class:`sni.apimodels.PostCallbackEsiOut`\
        \ model.\n\nReference:\n    `OAuth 2.0 for Web Based Applications <https://docs.esi.evetech.net/docs/sso/web_based_sso_flow.html>`_"
      operationId: get_callback_esi_callback_esi_get
      parameters:
      - in: query
        name: code
        required: true
        schema:
          title: Code
          type: string
      - in: query
        name: state
        required: true
        schema:
          title: State
          type: string
      responses:
        '200':
          content:
            application/json:
              schema: {}
          description: Successful Response
        '422':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
      summary: Get Callback Esi
      tags:
      - Callbacks
      - ESI
  /coalition/:
    get:
      description: Lists all the coalition names. Requires a clearance level of 0
        or more.
      operationId: get_coalition_coalition__get
      parameters:
      - in: header
        name: authorization
        required: false
        schema:
          title: Authorization
          type: string
      responses:
        '200':
          content:
            application/json:
              schema:
                items:
                  type: string
                title: Response Get Coalition Coalition  Get
                type: array
          description: Successful Response
        '422':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
      summary: Get Coalition
      tags:
      - Coalition management
    post:
      description: Creates a coalition. Requires a clearance level of 9 or more.
      operationId: post_coalitions_coalition__post
      parameters:
      - in: header
        name: authorization
        required: false
        schema:
          title: Authorization
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PostCoalitionIn'
        required: true
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GetCoalitionOut'
          description: Successful Response
        '422':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
      summary: Post Coalitions
      tags:
      - Coalition management
  /coalition/{coalition_name}:
    delete:
      description: Deletes a coalition. Requires a clearance level of 9 or more.
      operationId: delete_coalition_coalition__coalition_name__delete
      parameters:
      - in: path
        name: coalition_name
        required: true
        schema:
          title: Coalition Name
          type: string
      - in: header
        name: authorization
        required: false
        schema:
          title: Authorization
          type: string
      responses:
        '200':
          content:
            application/json:
              schema: {}
          description: Successful Response
        '422':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
      summary: Delete Coalition
      tags:
      - Coalition management
    get:
      description: 'Returns details about a given coalition. Requires a clearance
        level of 0 or

        more.'
      operationId: get_coalition_name_coalition__coalition_name__get
      parameters:
      - in: path
        name: coalition_name
        required: true
        schema:
          title: Coalition Name
          type: string
      - in: header
        name: authorization
        required: false
        schema:
          title: Authorization
          type: string
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GetCoalitionOut'
          description: Successful Response
        '422':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
      summary: Get Coalition Name
      tags:
      - Coalition management
    put:
      description: 'Updates a coalition. All fields in the request body are optional.
        The

        ``add_members`` and ``remove_members`` fields can be used together, but the

        ``members`` cannot be used in conjunction with ``add_members`` and

        ``remove_members``.


        Requires a clearance level of 9 or more.'
      operationId: put_coalition_coalition__coalition_name__put
      parameters:
      - in: path
        name: coalition_name
        required: true
        schema:
          title: Coalition Name
          type: string
      - in: header
        name: authorization
        required: false
        schema:
          title: Authorization
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PutCoalitionIn'
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GetCoalitionOut'
          description: Successful Response
        '422':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
      summary: Put Coalition
      tags:
      - Coalition management
  /esi/{esi_path}:
    get:
      description: "Forwards a GET request to the ESI. The required clearance level\
        \ depends on\nthe user making the request and the user specified on the ``on_behalf_of``\n\
        field.\n\nSee also:\n    :class:`sni.routers.esi.EsiRequestIn`"
      operationId: get_esi_latest_esi__esi_path__get
      parameters:
      - in: path
        name: esi_path
        required: true
        schema:
          title: Esi Path
          type: string
      - in: header
        name: authorization
        required: false
        schema:
          title: Authorization
          type: string
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EsiRequestOut'
          description: Successful Response
        '422':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
      summary: Get Esi Latest
      tags:
      - ESI
  /group/:
    get:
      description: Lists all the group names. Requires a clearance level of 0 or more.
      operationId: get_group_group__get
      parameters:
      - in: header
        name: authorization
        required: false
        schema:
          title: Authorization
          type: string
      responses:
        '200':
          content:
            application/json:
              schema:
                items:
                  type: string
                title: Response Get Group Group  Get
                type: array
          description: Successful Response
        '422':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
      summary: Get Group
      tags:
      - Group management
    post:
      description: Creates a group. Requires a clearance level of 9 or more.
      operationId: post_groups_group__post
      parameters:
      - in: header
        name: authorization
        required: false
        schema:
          title: Authorization
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PostGroupIn'
        required: true
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GetGroupOut'
          description: Successful Response
        '422':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
      summary: Post Groups
      tags:
      - Group management
  /group/{group_name}:
    delete:
      description: Deletes a group. Requires a clearance level of 9 or more.
      operationId: delete_group_group__group_name__delete
      parameters:
      - in: path
        name: group_name
        required: true
        schema:
          title: Group Name
          type: string
      - in: header
        name: authorization
        required: false
        schema:
          title: Authorization
          type: string
      responses:
        '200':
          content:
            application/json:
              schema: {}
          description: Successful Response
        '422':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
      summary: Delete Group
      tags:
      - Group management
    get:
      description: 'Returns details about a given group. Requires a clearance level
        of 0 or

        more.'
      operationId: get_group_name_group__group_name__get
      parameters:
      - in: path
        name: group_name
        required: true
        schema:
          title: Group Name
          type: string
      - in: header
        name: authorization
        required: false
        schema:
          title: Authorization
          type: string
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GetGroupOut'
          description: Successful Response
        '422':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
      summary: Get Group Name
      tags:
      - Group management
    put:
      description: 'Updates a group. All fields in the request body are optional.
        The

        ``add_members`` and ``remove_members`` fields can be used together, but the

        ``members`` cannot be used in conjunction with ``add_members`` and

        ``remove_members``. Requires a clearance level of 9 or more of for the user

        to be the owner of the group.'
      operationId: put_group_group__group_name__put
      parameters:
      - in: path
        name: group_name
        required: true
        schema:
          title: Group Name
          type: string
      - in: header
        name: authorization
        required: false
        schema:
          title: Authorization
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PutGroupIn'
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GetGroupOut'
          description: Successful Response
        '422':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
      summary: Put Group
      tags:
      - Group management
  /ping:
    get:
      description: Returns ``pong``.
      operationId: get_ping_ping_get
      responses:
        '200':
          content:
            application/json:
              schema: {}
          description: Successful Response
      summary: Get Ping
      tags:
      - Testing
  /token/:
    delete:
      description: Manually deletes a token (of any type). Requires a clearance level
        of 10.
      operationId: delete_token_token__delete
      parameters:
      - in: query
        name: uuid
        required: true
        schema:
          title: Uuid
          type: string
      - in: header
        name: authorization
        required: false
        schema:
          title: Authorization
          type: string
      responses:
        '200':
          content:
            application/json:
              schema: {}
          description: Successful Response
        '422':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
      summary: Delete Token
      tags:
      - Authentication & tokens
    get:
      description: 'Returns informations about the token currently being used. Requires
        a

        clearance level of 0 or more.'
      operationId: get_token_token__get
      parameters:
      - in: header
        name: authorization
        required: false
        schema:
          title: Authorization
          type: string
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GetTokenOut'
          description: Successful Response
        '422':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
      summary: Get Token
      tags:
      - Authentication & tokens
  /token/dyn:
    post:
      description: 'Creates a new dynamic app token. Must be called with a permanent
        app token,

        and the owner must have a clearance level of 10.'
      operationId: post_token_dyn_token_dyn_post
      parameters:
      - in: header
        name: authorization
        required: false
        schema:
          title: Authorization
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PostTokenDynIn'
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PostTokenDynOut'
          description: Successful Response
        '422':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
      summary: Post Token Dyn
      tags:
      - Authentication & tokens
  /token/per:
    post:
      description: 'Creates a new permanent app token. Must be called with a permanent
        app

        token, and the owner must have a clearance level of 10.'
      operationId: post_token_per_token_per_post
      parameters:
      - in: header
        name: authorization
        required: false
        schema:
          title: Authorization
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PostTokenPerIn'
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PostTokenPerOut'
          description: Successful Response
        '422':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
      summary: Post Token Per
      tags:
      - Authentication & tokens
  /token/use/from/dyn:
    post:
      description: 'Authenticates an application dynamic token and returns a `state
        code` and

        an URL at which the user can authenticate to the EVE SSO. Once that is

        done, SNI issues a GET request to the app predefined callback, with that

        state code and the user token. Requires the owner of the token to have a

        clearance level of 0 or more.'
      operationId: post_token_use_from_dyn_token_use_from_dyn_post
      parameters:
      - in: header
        name: authorization
        required: false
        schema:
          title: Authorization
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PostTokenUseFromDynIn'
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PostTokenUseFromDynOut'
          description: Successful Response
        '422':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
      summary: Post Token Use From Dyn
      tags:
      - Authentication & tokens
  /token/use/from/per:
    post:
      description: 'Authenticates an application permanent token and returns a user
        token tied

        to the owner of that app token.'
      operationId: post_token_use_from_per_token_use_from_per_post
      parameters:
      - in: header
        name: authorization
        required: false
        schema:
          title: Authorization
          type: string
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PostUseFromPerOut'
          description: Successful Response
        '422':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
      summary: Post Token Use From Per
      tags:
      - Authentication & tokens
  /user/:
    get:
      description: 'Returns the list of all user names. Requires a clearance level
        of 0 or

        more.'
      operationId: get_user_user__get
      parameters:
      - in: header
        name: authorization
        required: false
        schema:
          title: Authorization
          type: string
      responses:
        '200':
          content:
            application/json:
              schema:
                items:
                  type: string
                title: Response Get User User  Get
                type: array
          description: Successful Response
        '422':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
      summary: Get User
      tags:
      - User management
  /user/{character_name}:
    delete:
      description: Deletes a user. Requires a clearance level of 9 or more.
      operationId: delete_user_user__character_name__delete
      parameters:
      - in: path
        name: character_name
        required: true
        schema:
          title: Character Name
          type: string
      - in: header
        name: authorization
        required: false
        schema:
          title: Authorization
          type: string
      responses:
        '200':
          content:
            application/json:
              schema: {}
          description: Successful Response
        '422':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
      summary: Delete User
      tags:
      - User management
    get:
      description: Returns details about a character. Requires a clearance level of
        0 or more.
      operationId: get_user_name_user__character_name__get
      parameters:
      - in: path
        name: character_name
        required: true
        schema:
          title: Character Name
          type: string
      - in: header
        name: authorization
        required: false
        schema:
          title: Authorization
          type: string
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GetUserOut'
          description: Successful Response
        '422':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
      summary: Get User Name
      tags:
      - User management
    put:
      description: 'Manually updates non ESI data about a character. The required
        clearance

        level depends on the modification.'
      operationId: put_user_name_user__character_name__put
      parameters:
      - in: path
        name: character_name
        required: true
        schema:
          title: Character Name
          type: string
      - in: header
        name: authorization
        required: false
        schema:
          title: Authorization
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PutUserIn'
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GetUserOut'
          description: Successful Response
        '422':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
      summary: Put User Name
      tags:
      - User management

